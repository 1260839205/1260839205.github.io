title: 如何用centos7搭建一个个人博客（全网最细）
tags: []
categories: []
date: 2020-07-06 21:37:00
---
### 一、准备工作
*  一台电脑或者服务器
* 安装好VMware Workstation Pro 
* 准备一个centos7或者7以上的镜像(Redhat也可以)
             
<!--more-->             
### 二、在虚拟机上安装centos7的操作系统(服务器可省略此步骤)
<pre>#VMware Workstation Pro 上安装centos7教程，访问如下地址
https://jingyan.baidu.com/article/0320e2c1bab9b95b87507b95.html</pre>

             
### 三、开始部署
1. 用root身份登陆centos7系统，打开终端
2. 安装Git与配置
	* 开始安装，安装途中全部Y（确定）
    <pre>yum install git-core</pre>
    ![](/img/20200706/git.png)
	* 查询Git版本，确保安装成功
    <pre>git --version</pre>
    ![](/img/20200706/git-version.png)
	* 设置用户名和邮箱（如果没有自行去GitHub注册）
   <pre>git config --global user.name "此处填用户名"
   git config --global user user.eamil "此处填自己邮箱"</pre>
   ![](/img/20200706/gitlogin.png)
	* 在GitHub上新建一个库，如下图所示，名称必须是用户名.github.io
   ![](/img/20200706/Repository-git.png)
	* 新建一个ssh key,这里一直敲回车直到结束
    <pre> ssh-keygen -t rsa -C "自己的邮箱"</pre>
    ![](/img/20200706/sshkey.png)
	* 查看所创建的密钥，输入如下代码
    <pre>cat ~/.ssh/id_rsa.pub
    #打开如下网址，导入密钥
    https://github.com/settings/keys
    </pre>
    ![](/img/20200706/sshkey-code.png) 
3. 安装Nodejs
	* 使用EPEL安装
    <pre>#首先确认是否安装了epel-release包
    yum info epel-release
    #如果没提示安装，则执行以下代码安装
    yum install epel-release</pre>
	* 输入以下代码下载
    <pre>yum install nodejs</pre>	
	* 查看版本
    <pre>node -v
    npm -v</pre>
    ![](/img/20200706/nodejs-v.png) 
	* nodejs版本升级
    <pre>#安装n
    npm install -g n</pre> 
    ![](/img/20200706/n.png) 
	* 升级版本或安装指定版本
    <pre>#安装最新版本
    n latest
    #安装指定版本（我这里安装的是10.20.1）
    n 10.20.1
    </pre>
    ![](/img/20200706/nodejs1.png)
	* 切换nodejs版本,使用上下键来更改版本(切换之后重启一下)
    <pre>#切换版本
    n
    #重启系统
    reboot
    #重启之后查看nodejs版本
    node -v
    </pre>
    ![](/img/20200706/node1.png)
	* 安装Hexo博客框架
    <pre>npm install -g hexo-cli</pre>
    ![](/img/20200706/hexo.png)
	* 查看hexo版本，如显示以下内容则表示安装成功
    ![](/img/20200706/hexo-v.png)
	* 新建一个目录来存放博客文件，并且切换到新建的目录，初始化hexo，并且安装包，以及，并且安装git插件
    <pre>#初始化hexo
    hexo init
    #安装包
    npm install
    #安装git插件
    npm install hexo-deployer-git --save
    </pre>
    ![](/img/20200706/hexoinit.png)
    ![](/img/20200706/npm-git.png)
	* 打开当前目录下的_config.yml文件
    <pre>vim config.yml
     #并且更改最后面的配置为如下，保存后退出
     # Deployment
     # Docs: https://hexo.io/docs/deployment.html
     deploy:
      type: git
      repository: https://github.com/********/********.github.io.git #此处为github你最开始建库，库的所在地址，如下图
      branch: master
    </pre>
    ![](/img/20200706/Repository-git2.png)
    ![](/img/20200706/config.png)
	* 接着输入如下代码
    <pre>#清除缓存文件
    hexo clean
    #生成静态文件
    hexo generate
    #启动服务器
    hexo server  
    </pre>
    ![](/img/20200706/hexoc.png)
	* 查询本地ip后,打开浏览器输入ip地址:4000，如图
    ![](/img/20200706/id.png)
    ![](/img/20200706/hello.png)
	* 如果刚刚没打开，可能是防火墙没有关
    <pre>#关闭防火墙
    systemctl stop firewalld.service
    #关闭防火墙开机自启
    systemctl disable firewalld.service </pre>
	* 部署到github上
    <pre>hexo deploy</pre>
	* 浏览器使用github仓库的地址访问如：用户名.github.io，自此博客搭建成功
    ![](/img/20200706/hellogit.png)